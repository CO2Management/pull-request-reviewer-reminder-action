name: 'Pull request reviewer reminder action'
description: 'Action to send Github mentions when there are pull requests pending for reviews. Based on work from Kenji Tomita.'
author: 'Peter van der Veeken'
inputs:
  github_token:
    required: true
    description: 'GitHub token'
  reminder_message:
    required: true
    description: 'Messages to send to reviewers on Github.'
  review_turnaround_hours:
    required: true
    description: 'This is the deadline for reviews. If this time is exceeded, a reminder wil be send.'
  second_reminder_message:
    required: false
    description: 'Message to send on second reminder.'
  second_review_turnaround_hours:
    required: false
    description: 'This is the deadline for second reviews. If this time is exceeded, a second reminder will be sent.'
  github_repository:
    required: true
    description: 'The owner/repo name, e.g. CO2Management/co2m'
runs:
  using: 'docker'
  image: 'Dockerfile'
  env:
    GITHUB_TOKEN: ${{ inputs.github_token }}
    REMINDER_MESSAGE: ${{ inputs.reminder_message }}
    REVIEW_TURNAROUND_HOURS: ${{ inputs.review_turnaround_hours }}
    SECOND_REMINDER_MESSAGE: ${{ inputs.second_reminder_message }}
    SECOND_REVIEW_TURNAROUND_HOURS: ${{ inputs.second_review_turnaround_hours }}
    GITHUB_REPOSITORY: ${{ inputs.github_repository }}
branding:
  icon: 'git-pull-request'
  color: 'gray-dark'
